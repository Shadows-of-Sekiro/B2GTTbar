void plotAndCalcEff(string, string, string); //void plotAndCalcEff(string sample, string saveLabel, string bWP)

void BtagEff(){
  //plotAndCalcEff("QCD_Ptscaled","bTagPuppiEffMeasurement20170623","M");
  //plotAndCalcEff("bTagPuppiEffMeasurement20170623","L");
  //plotAndCalcEff("TT_TuneCUETP8M2T4_13TeV-powheg-pythia8_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20171004","M");
  
  //Z' narrow
  /*plotAndCalcEff("ZprimeToTT_M-1000_W-10_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20171004","M");
    plotAndCalcEff("ZprimeToTT_M-1250_W-12p5_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20171004","M");      */
  //plotAndCalcEff("ZprimeToTT_M-1500_W-15_RunIISummer16MiniAODv2_all","bTagPuppiEffMeasurement20171004","M");
  /*plotAndCalcEff("ZprimeToTT_M-2000_W-20_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-2500_W-25_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-3000_W-30_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-3500_W-35_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-4000_W-40_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-4500_W-45_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-5000_W-50_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");*/
  plotAndCalcEff("ZprimeToTT_M-6000_W-60_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  //plotAndCalcEff("ZprimeToTT_M-6500_W-65_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  //plotAndCalcEff("ZprimeToTT_M-7000_W-70_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");

  // wide
  /*plotAndCalcEff("ZprimeToTT_M-1000_W-100_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-1250_W-125_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-1500_W-150_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-2000_W-200_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-2500_W-250_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-3000_W-300_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-3500_W-350_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-4000_W-400_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-4500_W-450_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-5000_W-500_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-6000_W-600_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-6500_W-650_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-7000_W-700_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");*/

  // very wide
  /*plotAndCalcEff("ZprimeToTT_M-1000_W-300_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-2000_W-600_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-3000_W-900_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-4000_W-1200_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-5000_W-1500_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20171004","M");*/
  plotAndCalcEff("ZprimeToTT_M-6000_W-1800_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-6500_W-1950_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("ZprimeToTT_M-7000_W-2100_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");

  //RSG
  /*plotAndCalcEff("RSGluonToTT_M-1000_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-1250_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-1500_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-2000_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-2500_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-3000_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-3500_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-4000_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-4500_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");
  plotAndCalcEff("RSGluonToTT_M-5000_RunIISummer16MiniAODv2","bTagPuppiEffMeasurement20170623","M");*/
}
void plotAndCalcEff(string sample, string saveLabel, string bWP){

    gROOT->SetBatch(); 

	gStyle->SetCanvasBorderMode(0);
	gStyle->SetCanvasColor(kWhite);
	gStyle->SetCanvasDefH(500); //Height of canvas
	gStyle->SetCanvasDefW(800); //Width of canvas
	gStyle->SetCanvasDefX(0);   //POsition on screen
	gStyle->SetCanvasDefY(0);

	// For the Pad:
	gStyle->SetPadBorderMode(0);
	// gStyle->SetPadBorderSize(Width_t size = 1);
	gStyle->SetPadColor(kWhite);
	gStyle->SetPadGridX(false);
	gStyle->SetPadGridY(false);
	gStyle->SetGridColor(0);
	gStyle->SetGridStyle(3);
	gStyle->SetGridWidth(1);

	// For the frame:
	gStyle->SetFrameBorderMode(0);
	gStyle->SetFrameBorderSize(1);
	gStyle->SetFrameFillColor(0);
	gStyle->SetFrameFillStyle(0);
	gStyle->SetFrameLineColor(1);
	gStyle->SetFrameLineStyle(1);
	gStyle->SetFrameLineWidth(1);

	// For the histo:
	// gStyle->SetHistFillColor(1);
	// gStyle->SetHistFillStyle(0);
	//cut out by jim//  gStyle->SetHistLineColor(1);
	//cut out by jim//  gStyle->SetHistLineStyle(0);
	//cut out by jim//  
	gStyle->SetHistLineWidth(2);
	// gStyle->SetLegoInnerR(Float_t rad = 0.5);
	// gStyle->SetNumberContours(Int_t number = 20);

	//cut out by jim// gStyle->SetEndErrorSize(2);
	//gStyle->SetErrorMarker(20);
	//cut out by jim// gStyle->SetErrorX(0.);

	//gStyle->SetMarkerStyle(20);

	//For the fit/function:
	/*gStyle->SetOptFit(1);
	gStyle->SetFitFormat("5.4g");
	gStyle->SetFuncColor(2);
	gStyle->SetFuncStyle(1);
	gStyle->SetFuncWidth(1);*/

	//For the date:
	//gStyle->SetOptDate(0);
	// gStyle->SetDateX(Float_t x = 0.01);
	// gStyle->SetDateY(Float_t y = 0.01);

	// For the statistics box:
	gStyle->SetOptStat(0000000000); //this clears all the boxes and crap
	//gStyle->SetOptFile(0);
	// gStyle->SetOptStat(111111); // To display the mean and RMS:   SetOptStat("mr");
	/*gStyle->SetStatColor(kWhite);
	gStyle->SetStatFont(42);
	gStyle->SetStatFontSize(0.025);
	gStyle->SetStatTextColor(1);
	gStyle->SetStatFormat("6.4g");
	gStyle->SetStatBorderSize(1);
	gStyle->SetStatH(0.1);
	gStyle->SetStatW(0.15);*/
	// gStyle->SetStatStyle(Style_t style = 1001);
	// gStyle->SetStatX(Float_t x = 0);
	// gStyle->SetStatY(Float_t y = 0);

	// Margins:
	gStyle->SetPadTopMargin(0.09);
	gStyle->SetPadBottomMargin(0.14);
	gStyle->SetPadLeftMargin(0.17);//0.14);//0.16);
	gStyle->SetPadRightMargin(0.05);//0.3);//0.16);

	// For the Global title:

	//  gStyle->SetOptTitle(0);
	gStyle->SetTitleFont(42);
	gStyle->SetTitleColor(1);
	gStyle->SetTitleTextColor(1);
	gStyle->SetTitleFillColor(10);
	//gStyle->SetTitleFontSize(0.05);
	gStyle->SetTitleFontSize(0.04);

	// gStyle->SetTitleH(0); // Set the height of the title box
	gStyle->SetTitleW(0); // Set the width of the title box
	gStyle->SetTitleX(0.5); // Set the position of the title box
	gStyle->SetTitleY(0.98); // Set the position of the title box
	// gStyle->SetTitleStyle(Style_t style = 1001);
	// gStyle->SetTitleBorderSize(2);

	// For the axis titles:

	gStyle->SetTitleColor(1, "XYZ");
	gStyle->SetTitleFont(42, "XYZ");
	//gStyle->SetTitleSize(0.06, "XYZ");
	//gStyle->SetTitleSize(0.04, "XYZ");
	gStyle->SetTitleSize(0.05, "XYZ");
	// gStyle->SetTitleXSize(Float_t size = 0.02); // Another way to set the size?
	// gStyle->SetTitleYSize(Float_t size = 0.02);
	//gStyle->SetTitleXOffset(1.3);
	gStyle->SetTitleXOffset(1.2);
	//   gStyle->SetTitleYOffset(1.5);
	gStyle->SetTitleOffset(1.5, "Y"); // Another way to set the Offset

	// For the axis labels:

	gStyle->SetLabelColor(1, "XYZ");
	gStyle->SetLabelFont(42, "XYZ");
	gStyle->SetLabelOffset(0.007, "YZ");
	gStyle->SetLabelOffset(0.012, "X");
	//gStyle->SetLabelSize(0.05, "XYZ");
	///gStyle->SetLabelSize(0.035, "XYZ");
	gStyle->SetLabelSize(0.045, "XYZ");

	// For the axis:

	gStyle->SetAxisColor(1, "XYZ");
	gStyle->SetStripDecimals(kTRUE);
	gStyle->SetTickLength(0.03, "XYZ");
	gStyle->SetNdivisions(510, "XYZ");
	gStyle->SetPadTickX(1);  // To get tick marks on the opposite side of the frame
	gStyle->SetPadTickY(1);

	// Change for log plots:
	gStyle->SetOptLogx(0);
	gStyle->SetOptLogy(0);
	gStyle->SetOptLogz(0);

	//gStyle->SetPalette(1,0);


	//gStyle->SetLegendFont(42);
	gROOT->UseCurrentStyle();
	gROOT->ForceStyle();

	TCanvas *c1 = new TCanvas("c1","",900,700);


	TFile * OutFile       = new TFile(     Form("BtagEff_%s_b%s_%s.root", sample.c_str(), bWP.c_str(), saveLabel.c_str())       , "RECREATE");

	TFile * InFile        = new TFile( Form("runs/histsKinemat_%s_ht950_pt400_WPB_alt40_alt260_b%s_PUw_noTTw_nom_b2gtreeV5_%s.root", saveLabel.c_str(), bWP.c_str(), sample.c_str())      );

	std::size_t foundQCD    = sample.find( "QCD"    );
	TFile * InFile2D = InFile;
	if ( foundQCD    !=std::string::npos ) TFile * InFile2D        = new TFile( Form("runs/histsKinemat_2D_%s_ht950_pt400_WPB_alt40_alt260_b%s_PUw_noTTw_nom_b2gtreeV5_%s.root", saveLabel.c_str(), bWP.c_str(), sample.c_str())      );

///Users/jdolen/NoBackup/B2G2016/V5/runs/
 	//----------------------------------------------------------------------------------------------------------------------------



	TH1D * aaa1_numer = (TH1D*) InFile->Get(  "h_AfterBtag_Inclusive_Jet0Pt"   );
	TH1D * aaa1_denom = (TH1D*) InFile->Get( "h_BeforeBtag_Inclusive_Jet0Pt"   );
	//cout<<aaa1_numer  ->Integral() <<endl;
	//cout<<aaa1_denom  ->Integral() <<endl;
	//cout<<aaa1_numer  ->GetEntries() <<endl;
	//cout<<aaa1_denom  ->GetEntries() <<endl;
	aaa1_numer  ->Sumw2();
	aaa1_denom  ->Sumw2();
	aaa1_numer  ->Rebin(50);
	aaa1_denom  ->Rebin(50);
	aaa1_numer->Divide(aaa1_numer, aaa1_denom,1,1,"B");

	TH1D * aaa2_numer = (TH1D*) InFile->Get(  "h_AfterBtag_light_Jet0Pt"   );
	TH1D * aaa2_denom = (TH1D*) InFile->Get( "h_BeforeBtag_light_Jet0Pt"   );
	aaa2_numer  ->Sumw2();
	aaa2_denom  ->Sumw2();
	aaa2_numer  ->Rebin(50);
	aaa2_denom  ->Rebin(50);
	aaa2_numer->Divide(aaa2_numer, aaa2_denom,1,1,"B");

	TH1D * aaa3_numer = (TH1D*) InFile->Get(  "h_AfterBtag_c_Jet0Pt"   );
	TH1D * aaa3_denom = (TH1D*) InFile->Get( "h_BeforeBtag_c_Jet0Pt"   );
	aaa3_numer  ->Sumw2();
	aaa3_denom  ->Sumw2();
	aaa3_numer  ->Rebin(50);
	aaa3_denom  ->Rebin(50);
	aaa3_numer->Divide(aaa3_numer, aaa3_denom,1,1,"B");

	TH1D * aaa4_numer = (TH1D*) InFile->Get(  "h_AfterBtag_b_Jet0Pt"   );
	TH1D * aaa4_denom = (TH1D*) InFile->Get( "h_BeforeBtag_b_Jet0Pt"   );
	aaa4_numer  ->Sumw2();
	aaa4_denom  ->Sumw2();
	aaa4_numer  ->Rebin(50);
	aaa4_denom  ->Rebin(50);
	aaa4_numer->Divide(aaa4_numer, aaa4_denom,1,1,"B");

	TH1D * aaa5_numer = (TH1D*) InFile->Get(  "h_AfterBtag_g_Jet0Pt"   );
	TH1D * aaa5_denom = (TH1D*) InFile->Get( "h_BeforeBtag_g_Jet0Pt"   );
	aaa5_numer  ->Sumw2();
	aaa5_denom  ->Sumw2();
	aaa5_numer  ->Rebin(50);
	aaa5_denom  ->Rebin(50);
	aaa5_numer->Divide(aaa5_numer, aaa5_denom,1,1,"B");

	TH1D * aaa6_numer = (TH1D*) InFile->Get(  "h_AfterBtag_lightHad_Jet0Pt"   );
	TH1D * aaa6_denom = (TH1D*) InFile->Get( "h_BeforeBtag_lightHad_Jet0Pt"   );
	aaa6_numer  ->Sumw2();
	aaa6_denom  ->Sumw2();
	aaa6_numer  ->Rebin(50);
	aaa6_denom  ->Rebin(50);
	aaa6_numer->Divide(aaa6_numer, aaa6_denom,1,1,"B");

	TH1D * aaa7_numer = (TH1D*) InFile->Get(  "h_AfterBtag_cHad_Jet0Pt"   );
	TH1D * aaa7_denom = (TH1D*) InFile->Get( "h_BeforeBtag_cHad_Jet0Pt"   );
	aaa7_numer  ->Sumw2();
	aaa7_denom  ->Sumw2();
	aaa7_numer  ->Rebin(50);
	aaa7_denom  ->Rebin(50);
	aaa7_numer->Divide(aaa7_numer, aaa7_denom,1,1,"B");

	TH1D * aaa8_numer = (TH1D*) InFile->Get(  "h_AfterBtag_bHad_Jet0Pt"   );
	TH1D * aaa8_denom = (TH1D*) InFile->Get( "h_BeforeBtag_bHad_Jet0Pt"   );
	aaa8_numer  ->Sumw2();
	aaa8_denom  ->Sumw2();
	aaa8_numer  ->Rebin(50);
	aaa8_denom  ->Rebin(50);
	aaa8_numer->Divide(aaa8_numer, aaa8_denom,1,1,"B");

	aaa1_numer ->SetName("btag_rate_inclusive_Jet0Pt");
	aaa2_numer ->SetName("btag_rate_light_Jet0Pt");
	aaa3_numer ->SetName("btag_rate_b_Jet0Pt");
	aaa4_numer ->SetName("btag_rate_c_Jet0Pt");
	aaa5_numer ->SetName("btag_rate_g_Jet0Pt");
	aaa6_numer ->SetName("btag_rate_lightHad_Jet0Pt");
	aaa7_numer ->SetName("btag_rate_cHad_Jet0Pt");
	aaa8_numer ->SetName("btag_rate_bHad_Jet0Pt");

	aaa1_numer ->SetLineWidth(2);
	aaa2_numer ->SetLineWidth(2);
	aaa3_numer ->SetLineWidth(2);
	aaa4_numer ->SetLineWidth(2);
	aaa5_numer ->SetLineWidth(2);
	aaa6_numer ->SetLineWidth(2);
	aaa7_numer ->SetLineWidth(2);
	aaa8_numer ->SetLineWidth(2);

	aaa1_numer ->SetMarkerColor(1);
	aaa2_numer ->SetMarkerColor(2);
	aaa3_numer ->SetMarkerColor(3);
	aaa4_numer ->SetMarkerColor(4);
	aaa5_numer ->SetMarkerColor(kOrange);
	aaa6_numer ->SetMarkerColor(6);
	aaa7_numer ->SetMarkerColor(7);
	aaa8_numer ->SetMarkerColor(8);

	aaa1_numer ->SetLineColor(1);
	aaa2_numer ->SetLineColor(2);
	aaa3_numer ->SetLineColor(3);
	aaa4_numer ->SetLineColor(4);
	aaa5_numer ->SetLineColor(kOrange);
	aaa6_numer ->SetLineColor(6);
	aaa7_numer ->SetLineColor(7);
	aaa8_numer ->SetLineColor(8);

	aaa1_numer ->Draw("");
	aaa2_numer ->Draw("same");
	aaa3_numer ->Draw("same");
	aaa4_numer ->Draw("same");
	aaa5_numer ->Draw("same");
	aaa6_numer ->Draw("same");
	aaa7_numer ->Draw("same");
	aaa8_numer ->Draw("same");

	//cout<<"Draw hadron rate vs pT"<<endl;

	aaa8_numer->SetTitle(";Jet 0 p_{T} [GeV];b-tag rate");
	aaa8_numer->GetYaxis()->SetRangeUser(0,1.0);
	aaa8_numer->GetXaxis()->SetRangeUser(500,4000);
	aaa8_numer->SetStats(0);
	aaa8_numer ->Draw("");
	aaa7_numer ->Draw("same");
	aaa6_numer ->Draw("same");

	double leg1 =0.71; double leg2 =0.7; double leg3 =0.93; double leg4 =0.89;
	TLegend *legA = new TLegend(leg1, leg2, leg3, leg4);
	// leg->SetTextSize(0.057);
	legA->AddEntry(aaa8_numer, "b hadron", "l");
	legA->AddEntry(aaa7_numer, "c hadron", "l");
	legA->AddEntry(aaa6_numer, "udsg hadron", "l");
	legA->SetFillColor(0);
	legA->SetLineColor(0);
	legA->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Pt_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Pt_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	aaa4_numer->SetTitle(";Jet 0 p_{T} [GeV];b-tag rate");
	aaa4_numer->GetYaxis()->SetRangeUser(0,1.0);
	aaa4_numer->GetXaxis()->SetRangeUser(500,4000);
	aaa4_numer->SetStats(0);
	aaa4_numer ->Draw("");
	aaa2_numer ->Draw("same");
	aaa3_numer ->Draw("same");
	aaa5_numer ->Draw("same");

	// double leg1 =0.71; double leg2 =0.7; double leg3 =0.93; double leg4 =0.89;
	TLegend *legB = new TLegend(leg1, leg2, leg3, leg4);
	// leg->SetTextSize(0.057);
	legB->AddEntry(aaa4_numer, "b parton"  , "l");
	legB->AddEntry(aaa3_numer, "c parton"  , "l");
	legB->AddEntry(aaa2_numer, "uds parton", "l");
	legB->AddEntry(aaa5_numer, "g parton  ", "l");
	legB->SetFillColor(0);
	legB->SetLineColor(0);
	legB->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Pt_parton.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Pt_parton.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
 
 	//----------------------------------------------------------------------------------------------------------------------------


 	//----------------------------------------------------------------------------------------------------------------------------

	TH1D * bbb1_numer = (TH1D*) InFile->Get(  "h_AfterBtag_Inclusive_Jet0P"   );
	TH1D * bbb1_denom = (TH1D*) InFile->Get( "h_BeforeBtag_Inclusive_Jet0P"   );
	bbb1_numer  ->Sumw2();
	bbb1_denom  ->Sumw2();
	bbb1_numer  ->Rebin(50);
	bbb1_denom  ->Rebin(50);
	bbb1_numer->Divide(bbb1_numer, bbb1_denom,1,1,"B");

	TH1D * bbb2_numer = (TH1D*) InFile->Get(  "h_AfterBtag_light_Jet0P"   );
	TH1D * bbb2_denom = (TH1D*) InFile->Get( "h_BeforeBtag_light_Jet0P"   );
	bbb2_numer  ->Sumw2();
	bbb2_denom  ->Sumw2();
	bbb2_numer  ->Rebin(50);
	bbb2_denom  ->Rebin(50);
	bbb2_numer->Divide(bbb2_numer, bbb2_denom,1,1,"B");

	TH1D * bbb3_numer = (TH1D*) InFile->Get(  "h_AfterBtag_c_Jet0P"   );
	TH1D * bbb3_denom = (TH1D*) InFile->Get( "h_BeforeBtag_c_Jet0P"   );
	bbb3_numer  ->Sumw2();
	bbb3_denom  ->Sumw2();
	bbb3_numer  ->Rebin(50);
	bbb3_denom  ->Rebin(50);
	bbb3_numer->Divide(bbb3_numer, bbb3_denom,1,1,"B");

	TH1D * bbb4_numer = (TH1D*) InFile->Get(  "h_AfterBtag_b_Jet0P"   );
	TH1D * bbb4_denom = (TH1D*) InFile->Get( "h_BeforeBtag_b_Jet0P"   );
	bbb4_numer  ->Sumw2();
	bbb4_denom  ->Sumw2();
	bbb4_numer  ->Rebin(50);
	bbb4_denom  ->Rebin(50);
	bbb4_numer->Divide(bbb4_numer, bbb4_denom,1,1,"B");

	TH1D * bbb5_numer = (TH1D*) InFile->Get(  "h_AfterBtag_g_Jet0P"   );
	TH1D * bbb5_denom = (TH1D*) InFile->Get( "h_BeforeBtag_g_Jet0P"   );
	bbb5_numer  ->Sumw2();
	bbb5_denom  ->Sumw2();
	bbb5_numer  ->Rebin(50);
	bbb5_denom  ->Rebin(50);
	bbb5_numer->Divide(bbb5_numer, bbb5_denom,1,1,"B");

	TH1D * bbb6_numer = (TH1D*) InFile->Get(  "h_AfterBtag_lightHad_Jet0P"   );
	TH1D * bbb6_denom = (TH1D*) InFile->Get( "h_BeforeBtag_lightHad_Jet0P"   );
	bbb6_numer  ->Sumw2();
	bbb6_denom  ->Sumw2();
	bbb6_numer  ->Rebin(50);
	bbb6_denom  ->Rebin(50);
	bbb6_numer->Divide(bbb6_numer, bbb6_denom,1,1,"B");

	TH1D * bbb7_numer = (TH1D*) InFile->Get(  "h_AfterBtag_cHad_Jet0P"   );
	TH1D * bbb7_denom = (TH1D*) InFile->Get( "h_BeforeBtag_cHad_Jet0P"   );
	bbb7_numer  ->Sumw2();
	bbb7_denom  ->Sumw2();
	bbb7_numer  ->Rebin(50);
	bbb7_denom  ->Rebin(50);
	bbb7_numer->Divide(bbb7_numer, bbb7_denom,1,1,"B");

	TH1D * bbb8_numer = (TH1D*) InFile->Get(  "h_AfterBtag_bHad_Jet0P"   );
	TH1D * bbb8_denom = (TH1D*) InFile->Get( "h_BeforeBtag_bHad_Jet0P"   );
	bbb8_numer  ->Sumw2();
	bbb8_denom  ->Sumw2();
	bbb8_numer  ->Rebin(50);
	bbb8_denom  ->Rebin(50);
	bbb8_numer->Divide(bbb8_numer, bbb8_denom,1,1,"B");

	bbb1_numer ->SetName("btag_rate_inclusive_Jet0P");
	bbb2_numer ->SetName("btag_rate_light_Jet0P");
	bbb3_numer ->SetName("btag_rate_b_Jet0P");
	bbb4_numer ->SetName("btag_rate_c_Jet0P");
	bbb5_numer ->SetName("btag_rate_g_Jet0P");
	bbb6_numer ->SetName("btag_rate_lightHad_Jet0P");
	bbb7_numer ->SetName("btag_rate_cHad_Jet0P");
	bbb8_numer ->SetName("btag_rate_bHad_Jet0P");

	bbb1_numer ->SetLineWidth(2);
	bbb2_numer ->SetLineWidth(2);
	bbb3_numer ->SetLineWidth(2);
	bbb4_numer ->SetLineWidth(2);
	bbb5_numer ->SetLineWidth(2);
	bbb6_numer ->SetLineWidth(2);
	bbb7_numer ->SetLineWidth(2);
	bbb8_numer ->SetLineWidth(2);

	bbb1_numer ->SetMarkerColor(1);
	bbb2_numer ->SetMarkerColor(2);
	bbb3_numer ->SetMarkerColor(3);
	bbb4_numer ->SetMarkerColor(4);
	bbb5_numer ->SetMarkerColor(kOrange);
	bbb6_numer ->SetMarkerColor(6);
	bbb7_numer ->SetMarkerColor(7);
	bbb8_numer ->SetMarkerColor(8);

	bbb1_numer ->SetLineColor(1);
	bbb2_numer ->SetLineColor(2);
	bbb3_numer ->SetLineColor(3);
	bbb4_numer ->SetLineColor(4);
	bbb5_numer ->SetLineColor(kOrange);
	bbb6_numer ->SetLineColor(6);
	bbb7_numer ->SetLineColor(7);
	bbb8_numer ->SetLineColor(8);

	bbb1_numer ->Draw("");
	bbb2_numer ->Draw("same");
	bbb3_numer ->Draw("same");
	bbb4_numer ->Draw("same");
	bbb5_numer ->Draw("same");
	bbb6_numer ->Draw("same");
	bbb7_numer ->Draw("same");
	bbb8_numer ->Draw("same");

	//cout<<"Draw hadron rate vs P"<<endl;


	bbb8_numer->SetTitle(";Jet 0 momentum [GeV];b-tag rate");
	bbb8_numer->GetYaxis()->SetRangeUser(0,1.0);
	bbb8_numer->GetXaxis()->SetRangeUser(500,4000);
	bbb8_numer->SetStats(0);
	bbb8_numer ->Draw("");
	bbb7_numer ->Draw("same");
	bbb6_numer ->Draw("same");

	legA->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0P_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0P_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	bbb4_numer->SetTitle(";Jet 0 momentum [GeV];b-tag rate");
	bbb4_numer->GetYaxis()->SetRangeUser(0,1.0);
	bbb4_numer->GetXaxis()->SetRangeUser(500,4000);
	bbb4_numer->SetStats(0);
	bbb4_numer ->Draw("");
	bbb2_numer ->Draw("same");
	bbb3_numer ->Draw("same");
	bbb5_numer ->Draw("same");


	legB->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0P_parton.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0P_parton.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
 
 	//----------------------------------------------------------------------------------------------------------------------------

 	//----------------------------------------------------------------------------------------------------------------------------

	TH1D * ccc1_numer = (TH1D*) InFile->Get(  "h_AfterBtag_Inclusive_Jet0Rap"   );
	TH1D * ccc1_denom = (TH1D*) InFile->Get( "h_BeforeBtag_Inclusive_Jet0Rap"   );
	ccc1_numer  ->Sumw2();
	ccc1_denom  ->Sumw2();
	ccc1_numer  ->Rebin(5);
	ccc1_denom  ->Rebin(5);
	ccc1_numer->Divide(ccc1_numer, ccc1_denom,1,1,"B");

	TH1D * ccc2_numer = (TH1D*) InFile->Get(  "h_AfterBtag_light_Jet0Rap"   );
	TH1D * ccc2_denom = (TH1D*) InFile->Get( "h_BeforeBtag_light_Jet0Rap"   );
	ccc2_numer  ->Sumw2();
	ccc2_denom  ->Sumw2();
	ccc2_numer  ->Rebin(5);
	ccc2_denom  ->Rebin(5);
	ccc2_numer->Divide(ccc2_numer, ccc2_denom,1,1,"B");

	TH1D * ccc3_numer = (TH1D*) InFile->Get(  "h_AfterBtag_c_Jet0Rap"   );
	TH1D * ccc3_denom = (TH1D*) InFile->Get( "h_BeforeBtag_c_Jet0Rap"   );
	ccc3_numer  ->Sumw2();
	ccc3_denom  ->Sumw2();
	ccc3_numer  ->Rebin(5);
	ccc3_denom  ->Rebin(5);
	ccc3_numer->Divide(ccc3_numer, ccc3_denom,1,1,"B");

	TH1D * ccc4_numer = (TH1D*) InFile->Get(  "h_AfterBtag_b_Jet0Rap"   );
	TH1D * ccc4_denom = (TH1D*) InFile->Get( "h_BeforeBtag_b_Jet0Rap"   );
	ccc4_numer  ->Sumw2();
	ccc4_denom  ->Sumw2();
	ccc4_numer  ->Rebin(5);
	ccc4_denom  ->Rebin(5);
	ccc4_numer->Divide(ccc4_numer, ccc4_denom,1,1,"B");

	TH1D * ccc5_numer = (TH1D*) InFile->Get(  "h_AfterBtag_g_Jet0Rap"   );
	TH1D * ccc5_denom = (TH1D*) InFile->Get( "h_BeforeBtag_g_Jet0Rap"   );
	ccc5_numer  ->Sumw2();
	ccc5_denom  ->Sumw2();
	ccc5_numer  ->Rebin(5);
	ccc5_denom  ->Rebin(5);
	ccc5_numer->Divide(ccc5_numer, ccc5_denom,1,1,"B");

	TH1D * ccc6_numer = (TH1D*) InFile->Get(  "h_AfterBtag_lightHad_Jet0Rap"   );
	TH1D * ccc6_denom = (TH1D*) InFile->Get( "h_BeforeBtag_lightHad_Jet0Rap"   );
	ccc6_numer  ->Sumw2();
	ccc6_denom  ->Sumw2();
	ccc6_numer  ->Rebin(5);
	ccc6_denom  ->Rebin(5);
	ccc6_numer->Divide(ccc6_numer, ccc6_denom,1,1,"B");

	TH1D * ccc7_numer = (TH1D*) InFile->Get(  "h_AfterBtag_cHad_Jet0Rap"   );
	TH1D * ccc7_denom = (TH1D*) InFile->Get( "h_BeforeBtag_cHad_Jet0Rap"   );
	ccc7_numer  ->Sumw2();
	ccc7_denom  ->Sumw2();
	ccc7_numer  ->Rebin(5);
	ccc7_denom  ->Rebin(5);
	ccc7_numer->Divide(ccc7_numer, ccc7_denom,1,1,"B");

	TH1D * ccc8_numer = (TH1D*) InFile->Get(  "h_AfterBtag_bHad_Jet0Rap"   );
	TH1D * ccc8_denom = (TH1D*) InFile->Get( "h_BeforeBtag_bHad_Jet0Rap"   );
	ccc8_numer  ->Sumw2();
	ccc8_denom  ->Sumw2();
	ccc8_numer  ->Rebin(5);
	ccc8_denom  ->Rebin(5);
	ccc8_numer->Divide(ccc8_numer, ccc8_denom,1,1,"B");

	ccc1_numer ->SetName("btag_rate_inclusive_Jet0Rap");
	ccc2_numer ->SetName("btag_rate_light_Jet0Rap");
	ccc3_numer ->SetName("btag_rate_b_Jet0Rap");
	ccc4_numer ->SetName("btag_rate_c_Jet0Rap");
	ccc5_numer ->SetName("btag_rate_g_Jet0Rap");
	ccc6_numer ->SetName("btag_rate_lightHad_Jet0Rap");
	ccc7_numer ->SetName("btag_rate_cHad_Jet0Rap");
	ccc8_numer ->SetName("btag_rate_bHad_Jet0Rap");

	ccc1_numer ->SetLineWidth(2);
	ccc2_numer ->SetLineWidth(2);
	ccc3_numer ->SetLineWidth(2);
	ccc4_numer ->SetLineWidth(2);
	ccc5_numer ->SetLineWidth(2);
	ccc6_numer ->SetLineWidth(2);
	ccc7_numer ->SetLineWidth(2);
	ccc8_numer ->SetLineWidth(2);

	ccc1_numer ->SetMarkerColor(1);
	ccc2_numer ->SetMarkerColor(2);
	ccc3_numer ->SetMarkerColor(3);
	ccc4_numer ->SetMarkerColor(4);
	ccc5_numer ->SetMarkerColor(kOrange);
	ccc6_numer ->SetMarkerColor(6);
	ccc7_numer ->SetMarkerColor(7);
	ccc8_numer ->SetMarkerColor(8);

	ccc1_numer ->SetLineColor(1);
	ccc2_numer ->SetLineColor(2);
	ccc3_numer ->SetLineColor(3);
	ccc4_numer ->SetLineColor(4);
	ccc5_numer ->SetLineColor(kOrange);
	ccc6_numer ->SetLineColor(6);
	ccc7_numer ->SetLineColor(7);
	ccc8_numer ->SetLineColor(8);

	ccc1_numer ->Draw("");
	ccc2_numer ->Draw("same");
	ccc3_numer ->Draw("same");
	ccc4_numer ->Draw("same");
	ccc5_numer ->Draw("same");
	ccc6_numer ->Draw("same");
	ccc7_numer ->Draw("same");
	ccc8_numer ->Draw("same");

	//cout<<"Draw hadron rate vs rapidity"<<endl;


	ccc8_numer->SetTitle(";Jet 0 rapidity [GeV];b-tag rate");
	ccc8_numer->GetYaxis()->SetRangeUser(0,1.0);
	ccc8_numer->GetXaxis()->SetRangeUser(500,4000);
	ccc8_numer->SetStats(0);
	ccc8_numer ->Draw("");
	ccc7_numer ->Draw("same");
	ccc6_numer ->Draw("same");

	legA->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Rap_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Rap_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	ccc4_numer->SetTitle(";Jet 0 rapidity [GeV];b-tag rate");
	ccc4_numer->GetYaxis()->SetRangeUser(0,1.0);
	ccc4_numer->GetXaxis()->SetRangeUser(500,4000);
		ccc4_numer->SetStats(0);

	ccc4_numer ->Draw("");
	ccc2_numer ->Draw("same");
	ccc3_numer ->Draw("same");
	ccc5_numer ->Draw("same");

	legB->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Rap_parton.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0Rap_parton.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
 
 	//----------------------------------------------------------------------------------------------------------------------------


 	//----------------------------------------------------------------------------------------------------------------------------

	// TH1D * eee1_numer = (TH1D*) InFile->Get(  "h_AfterBtag_Inclusive_Jet0_SubjetMaxB_Pt"   );
	// TH1D * eee1_denom = (TH1D*) InFile->Get( "h_BeforeBtag_Inclusive_Jet0_SubjetMaxB_Pt"   );
	// eee1_numer  ->Sumw2();
	// eee1_denom  ->Sumw2();
	// eee1_numer  ->Rebin(50);
	// eee1_denom  ->Rebin(50);
	// eee1_numer->Divide(eee1_numer, eee1_denom,1,1,"B");

	// TH1D * eee2_numer = (TH1D*) InFile->Get(  "h_AfterBtag_light_Jet0_SubjetMaxB_Pt"   );
	// TH1D * eee2_denom = (TH1D*) InFile->Get( "h_BeforeBtag_light_Jet0_SubjetMaxB_Pt"   );
	// eee2_numer  ->Sumw2();
	// eee2_denom  ->Sumw2();
	// eee2_numer  ->Rebin(50);
	// eee2_denom  ->Rebin(50);
	// eee2_numer->Divide(eee2_numer, eee2_denom,1,1,"B");

	// TH1D * eee3_numer = (TH1D*) InFile->Get(  "h_AfterBtag_c_Jet0_SubjetMaxB_Pt"   );
	// TH1D * eee3_denom = (TH1D*) InFile->Get( "h_BeforeBtag_c_Jet0_SubjetMaxB_Pt"   );
	// eee3_numer  ->Sumw2();
	// eee3_denom  ->Sumw2();
	// eee3_numer  ->Rebin(50);
	// eee3_denom  ->Rebin(50);
	// eee3_numer->Divide(eee3_numer, eee3_denom,1,1,"B");

	// TH1D * eee4_numer = (TH1D*) InFile->Get(  "h_AfterBtag_b_Jet0_SubjetMaxB_Pt"   );
	// TH1D * eee4_denom = (TH1D*) InFile->Get( "h_BeforeBtag_b_Jet0_SubjetMaxB_Pt"   );
	// eee4_numer  ->Sumw2();
	// eee4_denom  ->Sumw2();
	// eee4_numer  ->Rebin(50);
	// eee4_denom  ->Rebin(50);
	// eee4_numer->Divide(eee4_numer, eee4_denom,1,1,"B");

	// TH1D * eee5_numer = (TH1D*) InFile->Get(  "h_AfterBtag_g_Jet0_SubjetMaxB_Pt"   );
	// TH1D * eee5_denom = (TH1D*) InFile->Get( "h_BeforeBtag_g_Jet0_SubjetMaxB_Pt"   );
	// eee5_numer  ->Sumw2();
	// eee5_denom  ->Sumw2();
	// eee5_numer  ->Rebin(50);
	// eee5_denom  ->Rebin(50);
	// eee5_numer->Divide(eee5_numer, eee5_denom,1,1,"B");

	//cout<<"debug1"<<endl;
	TH1D * eee6_numer = (TH1D*) InFile->Get(  "h_AfterBtag_lightHad_Jet0_SubjetMaxB_Pt"   );
	TH1D * eee6_denom = (TH1D*) InFile->Get( "h_BeforeBtag_lightHad_Jet0_SubjetMaxB_Pt"   );
	eee6_numer  ->Sumw2();
	eee6_denom  ->Sumw2();
	//cout<<"debug1"<<endl;
	eee6_numer  ->Rebin(50);
	//cout<<"debug2"<<endl;
	eee6_denom  ->Rebin(50);
	eee6_numer->Divide(eee6_numer, eee6_denom,1,1,"B");

	TH1D * eee7_numer = (TH1D*) InFile->Get(  "h_AfterBtag_cHad_Jet0_SubjetMaxB_Pt"   );
	TH1D * eee7_denom = (TH1D*) InFile->Get( "h_BeforeBtag_cHad_Jet0_SubjetMaxB_Pt"   );
	eee7_numer  ->Sumw2();
	eee7_denom  ->Sumw2();
	//cout<<"debug3"<<endl;
	eee7_numer  ->Rebin(50);
	//cout<<"debug4"<<endl;
	eee7_denom  ->Rebin(50);
	eee7_numer->Divide(eee7_numer, eee7_denom,1,1,"B");

	TH1D * eee8_numer = (TH1D*) InFile->Get(  "h_AfterBtag_bHad_Jet0_SubjetMaxB_Pt"   );
	TH1D * eee8_denom = (TH1D*) InFile->Get( "h_BeforeBtag_bHad_Jet0_SubjetMaxB_Pt"   );
	eee8_numer  ->Sumw2();
	eee8_denom  ->Sumw2();
	//cout<<"debug5"<<endl;
	eee8_numer  ->Rebin(50);
	//cout<<"debug6"<<endl;
	eee8_denom  ->Rebin(50);
	eee8_numer->Divide(eee8_numer, eee8_denom,1,1,"B");

	// eee1_numer ->SetName("btag_rate_inclusive_Jet0_SubjetMaxB_Pt");
	// eee2_numer ->SetName("btag_rate_light_Jet0_SubjetMaxB_Pt");
	// eee3_numer ->SetName("btag_rate_b_Jet0_SubjetMaxB_Pt");
	// eee4_numer ->SetName("btag_rate_c_Jet0_SubjetMaxB_Pt");
	// eee5_numer ->SetName("btag_rate_g_Jet0_SubjetMaxB_Pt");
	eee6_numer ->SetName("btag_rate_lightHad_Jet0_SubjetMaxB_Pt");
	eee7_numer ->SetName("btag_rate_cHad_Jet0_SubjetMaxB_Pt");
	eee8_numer ->SetName("btag_rate_bHad_Jet0_SubjetMaxB_Pt");

	// eee1_numer ->SetLineWidth(2);
	// eee2_numer ->SetLineWidth(2);
	// eee3_numer ->SetLineWidth(2);
	// eee4_numer ->SetLineWidth(2);
	// eee5_numer ->SetLineWidth(2);
	eee6_numer ->SetLineWidth(2);
	eee7_numer ->SetLineWidth(2);
	eee8_numer ->SetLineWidth(2);

	// eee1_numer ->SetMarkerColor(1);
	// eee2_numer ->SetMarkerColor(2);
	// eee3_numer ->SetMarkerColor(3);
	// eee4_numer ->SetMarkerColor(4);
	// eee5_numer ->SetMarkerColor(kOrange);
	eee6_numer ->SetMarkerColor(6);
	eee7_numer ->SetMarkerColor(7);
	eee8_numer ->SetMarkerColor(8);

	// eee1_numer ->SetLineColor(1);
	// eee2_numer ->SetLineColor(2);
	// eee3_numer ->SetLineColor(3);
	// eee4_numer ->SetLineColor(4);
	// eee5_numer ->SetLineColor(kOrange);
	eee6_numer ->SetLineColor(6);
	eee7_numer ->SetLineColor(7);
	eee8_numer ->SetLineColor(8);

	// eee1_numer ->Draw("");
	// eee2_numer ->Draw("same");
	// eee3_numer ->Draw("same");
	// eee4_numer ->Draw("same");
	// eee5_numer ->Draw("same");
	// eee6_numer ->Draw("same");
	// eee7_numer ->Draw("same");
	// eee8_numer ->Draw("same");

	//cout<<"Draw hadron rate vs subjetpT"<<endl;

	eee8_numer->SetTitle(";Jet 0 max b-disc subjet pT [GeV];b-tag rate");
	eee8_numer->GetYaxis()->SetRangeUser(0,1.0);
	eee8_numer->GetXaxis()->SetRangeUser(500,4000);
			eee8_numer->SetStats(0);

	eee8_numer ->Draw("");
	eee7_numer ->Draw("same");
	eee6_numer ->Draw("same");

	legA->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Pt_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Pt_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	// eee4_numer->SetTitle(";Jet 0 p_{T} [GeV];b-tag rate");
	// eee4_numer->GetYaxis()->SetRangeUser(0,1.0);
	// eee4_numer->GetXaxis()->SetRangeUser(500,4000);
	// eee4_numer ->Draw("");
	// eee2_numer ->Draw("same");
	// eee3_numer ->Draw("same");
	// eee5_numer ->Draw("same");

	// double leg1 =0.71; double leg2 =0.7; double leg3 =0.93; double leg4 =0.89;
	// TLegend *leg = new TLegend(leg1, leg2, leg3, leg4);
	// // leg->SetTextSize(0.057);
	// leg->AddEntry(eee4_numer, "b parton"  , "l");
	// leg->AddEntry(eee3_numer, "c parton"  , "l");
	// leg->AddEntry(eee2_numer, "uds parton", "l");
	// leg->AddEntry(eee5_numer, "g parton  ", "l");
	// leg->SetFillColor(0);
	// leg->SetLineColor(0);
	// leg->Draw("same");

	// c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Pt_parton.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	// c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Pt_parton.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
 
 	//----------------------------------------------------------------------------------------------------------------------------

 	//----------------------------------------------------------------------------------------------------------------------------

	// TH1D * fff1_numer = (TH1D*) InFile->Get(  "h_AfterBtag_Inclusive_Jet0_SubjetMaxB_Eta"   );
	// TH1D * fff1_denom = (TH1D*) InFile->Get( "h_BeforeBtag_Inclusive_Jet0_SubjetMaxB_Eta"   );
	// fff1_numer  ->Sumw2();
	// fff1_denom  ->Sumw2();
	// fff1_numer  ->Rebin(5);
	// fff1_denom  ->Rebin(5);
	// fff1_numer->Divide(fff1_numer, fff1_denom,1,1,"B");

	// TH1D * fff2_numer = (TH1D*) InFile->Get(  "h_AfterBtag_light_Jet0_SubjetMaxB_Eta"   );
	// TH1D * fff2_denom = (TH1D*) InFile->Get( "h_BeforeBtag_light_Jet0_SubjetMaxB_Eta"   );
	// fff2_numer  ->Sumw2();
	// fff2_denom  ->Sumw2();
	// fff2_numer  ->Rebin(5);
	// fff2_denom  ->Rebin(5);
	// fff2_numer->Divide(fff2_numer, fff2_denom,1,1,"B");

	// TH1D * fff3_numer = (TH1D*) InFile->Get(  "h_AfterBtag_c_Jet0_SubjetMaxB_Eta"   );
	// TH1D * fff3_denom = (TH1D*) InFile->Get( "h_BeforeBtag_c_Jet0_SubjetMaxB_Eta"   );
	// fff3_numer  ->Sumw2();
	// fff3_denom  ->Sumw2();
	// fff3_numer  ->Rebin(5);
	// fff3_denom  ->Rebin(5);
	// fff3_numer->Divide(fff3_numer, fff3_denom,1,1,"B");

	// TH1D * fff4_numer = (TH1D*) InFile->Get(  "h_AfterBtag_b_Jet0_SubjetMaxB_Eta"   );
	// TH1D * fff4_denom = (TH1D*) InFile->Get( "h_BeforeBtag_b_Jet0_SubjetMaxB_Eta"   );
	// fff4_numer  ->Sumw2();
	// fff4_denom  ->Sumw2();
	// fff4_numer  ->Rebin(5);
	// fff4_denom  ->Rebin(5);
	// fff4_numer->Divide(fff4_numer, fff4_denom,1,1,"B");

	// TH1D * fff5_numer = (TH1D*) InFile->Get(  "h_AfterBtag_g_Jet0_SubjetMaxB_Eta"   );
	// TH1D * fff5_denom = (TH1D*) InFile->Get( "h_BeforeBtag_g_Jet0_SubjetMaxB_Eta"   );
	// fff5_numer  ->Sumw2();
	// fff5_denom  ->Sumw2();
	// fff5_numer  ->Rebin(5);
	// fff5_denom  ->Rebin(5);
	// fff5_numer->Divide(fff5_numer, fff5_denom,1,1,"B");

	TH1D * fff6_numer = (TH1D*) InFile->Get(  "h_AfterBtag_lightHad_Jet0_SubjetMaxB_Eta"   );
	TH1D * fff6_denom = (TH1D*) InFile->Get( "h_BeforeBtag_lightHad_Jet0_SubjetMaxB_Eta"   );
	fff6_numer  ->Sumw2();
	fff6_denom  ->Sumw2();
	//cout<<"debug7"<<endl;
	fff6_numer  ->Rebin(5);
	//cout<<"debug8"<<endl;
	fff6_denom  ->Rebin(5);
	fff6_numer->Divide(fff6_numer, fff6_denom,1,1,"B");

	TH1D * fff7_numer = (TH1D*) InFile->Get(  "h_AfterBtag_cHad_Jet0_SubjetMaxB_Eta"   );
	TH1D * fff7_denom = (TH1D*) InFile->Get( "h_BeforeBtag_cHad_Jet0_SubjetMaxB_Eta"   );
	fff7_numer  ->Sumw2();
	fff7_denom  ->Sumw2();
	//cout<<"debug9"<<endl;
	fff7_numer  ->Rebin(5);
	//cout<<"debug10"<<endl;
	fff7_denom  ->Rebin(5);
	fff7_numer->Divide(fff7_numer, fff7_denom,1,1,"B");

	TH1D * fff8_numer = (TH1D*) InFile->Get(  "h_AfterBtag_bHad_Jet0_SubjetMaxB_Eta"   );
	TH1D * fff8_denom = (TH1D*) InFile->Get( "h_BeforeBtag_bHad_Jet0_SubjetMaxB_Eta"   );
	fff8_numer  ->Sumw2();
	fff8_denom  ->Sumw2();
	//cout<<"debug11"<<endl;
	fff8_numer  ->Rebin(5);
	//cout<<"debug12"<<endl;
	fff8_denom  ->Rebin(5);
	fff8_numer->Divide(fff8_numer, fff8_denom,1,1,"B");

	// fff1_numer ->SetName("btag_rate_inclusive_Jet0_SubjetMaxB_Eta");
	// fff2_numer ->SetName("btag_rate_light_Jet0_SubjetMaxB_Eta");
	// fff3_numer ->SetName("btag_rate_b_Jet0_SubjetMaxB_Eta");
	// fff4_numer ->SetName("btag_rate_c_Jet0_SubjetMaxB_Eta");
	// fff5_numer ->SetName("btag_rate_g_Jet0_SubjetMaxB_Eta");
	fff6_numer ->SetName("btag_rate_lightHad_Jet0_SubjetMaxB_Eta");
	fff7_numer ->SetName("btag_rate_cHad_Jet0_SubjetMaxB_Eta");
	fff8_numer ->SetName("btag_rate_bHad_Jet0_SubjetMaxB_Eta");

	// fff1_numer ->SetLineWidth(2);
	// fff2_numer ->SetLineWidth(2);
	// fff3_numer ->SetLineWidth(2);
	// fff4_numer ->SetLineWidth(2);
	// fff5_numer ->SetLineWidth(2);
	fff6_numer ->SetLineWidth(2);
	fff7_numer ->SetLineWidth(2);
	fff8_numer ->SetLineWidth(2);

	// fff1_numer ->SetMarkerColor(1);
	// fff2_numer ->SetMarkerColor(2);
	// fff3_numer ->SetMarkerColor(3);
	// fff4_numer ->SetMarkerColor(4);
	// fff5_numer ->SetMarkerColor(kOrange);
	fff6_numer ->SetMarkerColor(6);
	fff7_numer ->SetMarkerColor(7);
	fff8_numer ->SetMarkerColor(8);

	// fff1_numer ->SetLineColor(1);
	// fff2_numer ->SetLineColor(2);
	// fff3_numer ->SetLineColor(3);
	// fff4_numer ->SetLineColor(4);
	// fff5_numer ->SetLineColor(kOrange);
	fff6_numer ->SetLineColor(6);
	fff7_numer ->SetLineColor(7);
	fff8_numer ->SetLineColor(8);

	// fff1_numer ->Draw("");
	// fff2_numer ->Draw("same");
	// fff3_numer ->Draw("same");
	// fff4_numer ->Draw("same");
	// fff5_numer ->Draw("same");
	// fff6_numer ->Draw("same");
	// fff7_numer ->Draw("same");
	// fff8_numer ->Draw("same");

	//cout<<"Draw hadron rate vs subjet eta"<<endl;

	fff8_numer->SetTitle(";Jet 0 max b-disc subjet #eta;b-tag rate");
	fff8_numer->GetYaxis()->SetRangeUser(0,1.0);
	fff8_numer->GetXaxis()->SetRangeUser(500,4000);
				fff8_numer->SetStats(0);

	fff8_numer ->Draw("");
	fff7_numer ->Draw("same");
	fff6_numer ->Draw("same");

	legA->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Eta_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Eta_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	// fff4_numer->SetTitle(";Jet 0 p_{T} [GeV];b-tag rate");
	// fff4_numer->GetYaxis()->SetRangeUser(0,1.0);
	// fff4_numer->GetXaxis()->SetRangeUser(500,4000);
	// fff4_numer ->Draw("");
	// fff2_numer ->Draw("same");
	// fff3_numer ->Draw("same");
	// fff5_numer ->Draw("same");

	// double leg1 =0.71; double leg2 =0.7; double leg3 =0.93; double leg4 =0.89;
	// TLegend *leg = new TLegend(leg1, leg2, leg3, leg4);
	// // leg->SetTextSize(0.057);
	// leg->AddEntry(fff4_numer, "b parton"  , "l");
	// leg->AddEntry(fff3_numer, "c parton"  , "l");
	// leg->AddEntry(fff2_numer, "uds parton", "l");
	// leg->AddEntry(fff5_numer, "g parton  ", "l");
	// leg->SetFillColor(0);
	// leg->SetLineColor(0);
	// leg->Draw("same");

	// c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Eta_parton.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	// c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_SubjetMaxB_Eta_parton.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
 
 	//----------------------------------------------------------------------------------------------------------------------------

 	//----------------------------------------------------------------------------------------------------------------------------

	// TH1D * ggg1_numer = (TH1D*) InFile->Get(  "h_AfterBtag_Inclusive_Jet0_DeltaRsubjets"   );
	// TH1D * ggg1_denom = (TH1D*) InFile->Get( "h_BeforeBtag_Inclusive_Jet0_DeltaRsubjets"   );
	// ggg1_numer  ->Sumw2();
	// ggg1_denom  ->Sumw2();
	// ggg1_numer  ->Rebin(5);
	// ggg1_denom  ->Rebin(5);
	// ggg1_numer->Divide(ggg1_numer, ggg1_denom,1,1,"B");

	// TH1D * ggg2_numer = (TH1D*) InFile->Get(  "h_AfterBtag_light_Jet0_DeltaRsubjets"   );
	// TH1D * ggg2_denom = (TH1D*) InFile->Get( "h_BeforeBtag_light_Jet0_DeltaRsubjets"   );
	// ggg2_numer  ->Sumw2();
	// ggg2_denom  ->Sumw2();
	// ggg2_numer  ->Rebin(5);
	// ggg2_denom  ->Rebin(5);
	// ggg2_numer->Divide(ggg2_numer, ggg2_denom,1,1,"B");

	// TH1D * ggg3_numer = (TH1D*) InFile->Get(  "h_AfterBtag_c_Jet0_DeltaRsubjets"   );
	// TH1D * ggg3_denom = (TH1D*) InFile->Get( "h_BeforeBtag_c_Jet0_DeltaRsubjets"   );
	// ggg3_numer  ->Sumw2();
	// ggg3_denom  ->Sumw2();
	// ggg3_numer  ->Rebin(5);
	// ggg3_denom  ->Rebin(5);
	// ggg3_numer->Divide(ggg3_numer, ggg3_denom,1,1,"B");

	// TH1D * ggg4_numer = (TH1D*) InFile->Get(  "h_AfterBtag_b_Jet0_DeltaRsubjets"   );
	// TH1D * ggg4_denom = (TH1D*) InFile->Get( "h_BeforeBtag_b_Jet0_DeltaRsubjets"   );
	// ggg4_numer  ->Sumw2();
	// ggg4_denom  ->Sumw2();
	// ggg4_numer  ->Rebin(5);
	// ggg4_denom  ->Rebin(5);
	// ggg4_numer->Divide(ggg4_numer, ggg4_denom,1,1,"B");

	// TH1D * ggg5_numer = (TH1D*) InFile->Get(  "h_AfterBtag_g_Jet0_DeltaRsubjets"   );
	// TH1D * ggg5_denom = (TH1D*) InFile->Get( "h_BeforeBtag_g_Jet0_DeltaRsubjets"   );
	// ggg5_numer  ->Sumw2();
	// ggg5_denom  ->Sumw2();
	// ggg5_numer  ->Rebin(5);
	// ggg5_denom  ->Rebin(5);
	// ggg5_numer->Divide(ggg5_numer, ggg5_denom,1,1,"B");

	TH1D * ggg6_numer = (TH1D*) InFile->Get(  "h_AfterBtag_lightHad_Jet0_DeltaRsubjets"   );
	TH1D * ggg6_denom = (TH1D*) InFile->Get( "h_BeforeBtag_lightHad_Jet0_DeltaRsubjets"   );
	ggg6_numer  ->Sumw2();
	ggg6_denom  ->Sumw2();
	//cout<<"debug13"<<endl;
	ggg6_numer  ->Rebin(5);
	//cout<<"debug14"<<endl
	;ggg6_denom  ->Rebin(5);
	ggg6_numer->Divide(ggg6_numer, ggg6_denom,1,1,"B");

	TH1D * ggg7_numer = (TH1D*) InFile->Get(  "h_AfterBtag_cHad_Jet0_DeltaRsubjets"   );
	TH1D * ggg7_denom = (TH1D*) InFile->Get( "h_BeforeBtag_cHad_Jet0_DeltaRsubjets"   );
	ggg7_numer  ->Sumw2();
	ggg7_denom  ->Sumw2();
	//cout<<"debug15"<<endl;
	ggg7_numer  ->Rebin(5);
	//cout<<"debug16"<<endl;
	ggg7_denom  ->Rebin(5);
	ggg7_numer->Divide(ggg7_numer, ggg7_denom,1,1,"B");

	TH1D * ggg8_numer = (TH1D*) InFile->Get(  "h_AfterBtag_bHad_Jet0_DeltaRsubjets"   );
	TH1D * ggg8_denom = (TH1D*) InFile->Get( "h_BeforeBtag_bHad_Jet0_DeltaRsubjets"   );
	ggg8_numer  ->Sumw2();
	ggg8_denom  ->Sumw2();
	//cout<<"debug17"<<endl;
	ggg8_numer  ->Rebin(5);
	//cout<<"debug18"<<endl;
	ggg8_denom  ->Rebin(5);
	ggg8_numer->Divide(ggg8_numer, ggg8_denom,1,1,"B");

	// ggg1_numer ->SetName("btag_rate_inclusive_Jet0_DeltaRsubjets");
	// ggg2_numer ->SetName("btag_rate_light_Jet0_DeltaRsubjets");
	// ggg3_numer ->SetName("btag_rate_b_Jet0_DeltaRsubjets");
	// ggg4_numer ->SetName("btag_rate_c_Jet0_DeltaRsubjets");
	// ggg5_numer ->SetName("btag_rate_g_Jet0_DeltaRsubjets");
	ggg6_numer ->SetName("btag_rate_lightHad_Jet0_DeltaRsubjets");
	ggg7_numer ->SetName("btag_rate_cHad_Jet0_DeltaRsubjets");
	ggg8_numer ->SetName("btag_rate_bHad_Jet0_DeltaRsubjets");

	// ggg1_numer ->SetLineWidth(2);
	// ggg2_numer ->SetLineWidth(2);
	// ggg3_numer ->SetLineWidth(2);
	// ggg4_numer ->SetLineWidth(2);
	// ggg5_numer ->SetLineWidth(2);
	ggg6_numer ->SetLineWidth(2);
	ggg7_numer ->SetLineWidth(2);
	ggg8_numer ->SetLineWidth(2);

	// ggg1_numer ->SetMarkerColor(1);
	// ggg2_numer ->SetMarkerColor(2);
	// ggg3_numer ->SetMarkerColor(3);
	// ggg4_numer ->SetMarkerColor(4);
	// ggg5_numer ->SetMarkerColor(kOrange);
	ggg6_numer ->SetMarkerColor(6);
	ggg7_numer ->SetMarkerColor(7);
	ggg8_numer ->SetMarkerColor(8);

	// ggg1_numer ->SetLineColor(1);
	// ggg2_numer ->SetLineColor(2);
	// ggg3_numer ->SetLineColor(3);
	// ggg4_numer ->SetLineColor(4);
	// ggg5_numer ->SetLineColor(kOrange);
	ggg6_numer ->SetLineColor(6);
	ggg7_numer ->SetLineColor(7);
	ggg8_numer ->SetLineColor(8);

	// ggg1_numer ->Draw("");
	// ggg2_numer ->Draw("same");
	// ggg3_numer ->Draw("same");
	// ggg4_numer ->Draw("same");
	// ggg5_numer ->Draw("same");
	// ggg6_numer ->Draw("same");
	// ggg7_numer ->Draw("same");
	// ggg8_numer ->Draw("same");

	//cout<<"Draw hadron rate vs DeltaR"<<endl;


	ggg8_numer->SetTitle(";Jet 0 #DeltaR(subjet 0, subjet 1);b-tag rate");
	ggg8_numer->GetYaxis()->SetRangeUser(0,1.0);
	ggg8_numer->GetXaxis()->SetRangeUser(500,4000);
					ggg8_numer->SetStats(0);

	ggg8_numer ->Draw("");
	ggg7_numer ->Draw("same");
	ggg6_numer ->Draw("same");

	legA->Draw("same");

	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_DeltaRsubjets_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_DeltaRsubjets_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	// ggg4_numer->SetTitle(";Jet 0 p_{T} [GeV];b-tag rate");
	// ggg4_numer->GetYaxis()->SetRangeUser(0,1.0);
	// ggg4_numer->GetXaxis()->SetRangeUser(500,4000);
	// ggg4_numer ->Draw("");
	// ggg2_numer ->Draw("same");
	// ggg3_numer ->Draw("same");
	// ggg5_numer ->Draw("same");

	// double leg1 =0.71; double leg2 =0.7; double leg3 =0.93; double leg4 =0.89;
	// TLegend *leg = new TLegend(leg1, leg2, leg3, leg4);
	// // leg->SetTextSize(0.057);
	// leg->AddEntry(ggg4_numer, "b parton"  , "l");
	// leg->AddEntry(ggg3_numer, "c parton"  , "l");
	// leg->AddEntry(ggg2_numer, "uds parton", "l");
	// leg->AddEntry(ggg5_numer, "g parton  ", "l");
	// leg->SetFillColor(0);
	// leg->SetLineColor(0);
	// leg->Draw("same");

	// c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_DeltaRsubjets_parton.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	// c1->SaveAs(Form("plots/btagEff_%s_b%s_%s_rate_Jet0_DeltaRsubjets_parton.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
 
 	//----------------------------------------------------------------------------------------------------------------------------
 	//----------------------------------------------------------------------------------------------------------------------------
	//cout<<"Draw hadron rate 2D"<<endl;

	TH2D * hhh6_numer = (TH2D*) InFile2D->Get(  "h_AfterBtag_lightHad_Jet0_SubjetMaxB_Eta_Pt"   ); cout<<"debugA"<<endl;
	TH2D * hhh6_denom = (TH2D*) InFile2D->Get( "h_BeforeBtag_lightHad_Jet0_SubjetMaxB_Eta_Pt"   ); cout<<"debugB"<<endl;
	hhh6_numer  ->Sumw2(); cout<<"debugA"<<endl;
	hhh6_denom  ->Sumw2(); cout<<"debugB"<<endl;
	hhh6_numer  ->RebinY(2);                            cout<<"debugC"<<endl;      
	hhh6_denom  ->RebinY(2);                            cout<<"debugC"<<endl;      
	hhh6_numer  ->RebinX(4);                            cout<<"debugC"<<endl;      
	hhh6_denom  ->RebinX(4);                            cout<<"debugC"<<endl;      
	hhh6_numer->Divide(hhh6_numer, hhh6_denom,1,1,"B");  cout<<"debugC"<<endl;                                


	TH2D * hhh7_numer = (TH2D*) InFile2D->Get(  "h_AfterBtag_cHad_Jet0_SubjetMaxB_Eta_Pt"   ); cout<<"debugD"<<endl;
	TH2D * hhh7_denom = (TH2D*) InFile2D->Get( "h_BeforeBtag_cHad_Jet0_SubjetMaxB_Eta_Pt"   ); cout<<"debugE"<<endl;
	hhh7_numer  ->Sumw2();
	hhh7_denom  ->Sumw2();
	hhh7_numer  ->RebinY(2);                            cout<<"debugF"<<endl;   
	hhh7_denom  ->RebinY(2);                            cout<<"debugF"<<endl;   
	hhh7_numer  ->RebinX(4);                            cout<<"debugF"<<endl;   
	hhh7_denom  ->RebinX(4);                            cout<<"debugF"<<endl;   
	hhh7_numer->Divide(hhh7_numer, hhh7_denom,1,1,"B");  cout<<"debugF"<<endl;                             
cout<<"debug"<<endl;

	TH2D * hhh8_numer = (TH2D*) InFile2D->Get(  "h_AfterBtag_bHad_Jet0_SubjetMaxB_Eta_Pt"   );
	TH2D * hhh8_denom = (TH2D*) InFile2D->Get( "h_BeforeBtag_bHad_Jet0_SubjetMaxB_Eta_Pt"   );
	hhh8_numer  ->Sumw2();
	hhh8_denom  ->Sumw2();
	hhh8_numer  ->RebinY(2);
	hhh8_denom  ->RebinY(2);
	hhh8_numer  ->RebinX(4);
	hhh8_denom  ->RebinX(4);
	hhh8_numer->Divide(hhh8_numer, hhh8_denom,1,1,"B");

	// hhh1_numer ->SetName("btag_rate_inclusive_Jet0_SubjetMaxB_Eta");
	// hhh2_numer ->SetName("btag_rate_light_Jet0_SubjetMaxB_Eta");
	// hhh3_numer ->SetName("btag_rate_b_Jet0_SubjetMaxB_Eta");
	// hhh4_numer ->SetName("btag_rate_c_Jet0_SubjetMaxB_Eta");
	// hhh5_numer ->SetName("btag_rate_g_Jet0_SubjetMaxB_Eta");

	hhh6_numer->GetYaxis()->SetRangeUser(0,3000);
	hhh7_numer->GetYaxis()->SetRangeUser(0,3000);
	hhh8_numer->GetYaxis()->SetRangeUser(0,3000);

	hhh6_numer->GetXaxis()->SetRangeUser(-3,3);
	hhh7_numer->GetXaxis()->SetRangeUser(-3,3);
	hhh8_numer->GetXaxis()->SetRangeUser(-3,3);
	
	hhh6_numer->GetZaxis()->SetRangeUser(0,1.0);
	hhh7_numer->GetZaxis()->SetRangeUser(0,1.0);
	hhh8_numer->GetZaxis()->SetRangeUser(0,1.0);

	
	
	hhh6_numer ->SetName("btag_rate_lightHad_Jet0_SubjetMaxB_Eta_Pt");
	hhh7_numer ->SetName("btag_rate_cHad_Jet0_SubjetMaxB_Eta_Pt");
	hhh8_numer ->SetName("btag_rate_bHad_Jet0_SubjetMaxB_Eta_Pt");

	gStyle->SetPadTopMargin(0.09);
	gStyle->SetPadBottomMargin(0.14);
	gStyle->SetPadLeftMargin(0.14);//0.14);//0.16);
	gStyle->SetPadRightMargin(0.1);//0.3);//0.16);
	gStyle->SetTitleOffset(0, "Y"); // Another way to set the Offset
	gStyle->SetTitleOffset(0, "Y"); // Another way to set the Offset


	//gStyle->SetLegendFont(42);
	gStyle->SetOptStat(0);
	gROOT->UseCurrentStyle();
	gROOT->ForceStyle();


	TCanvas *c2 = new TCanvas("c2","",1300,700);
					hhh6_numer->SetStats(0);
					hhh7_numer->SetStats(0);
					hhh8_numer->SetStats(0);

	hhh6_numer->SetTitle("b-tag rate - light hadron;max b-disc subjet #eta;max b-disc subjet pT [GeV]");
	hhh6_numer->Draw("COLZ");
	c2->SaveAs(Form("plots/btagEff_%s_b%s_%s_h2_rate_lightHad_Jet0_SubjetMaxB_Eta_Pt_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c2->SaveAs(Form("plots/btagEff_%s_b%s_%s_h2_rate_lightHad_Jet0_SubjetMaxB_Eta_Pt_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	hhh7_numer->SetTitle("b-tag rate - c hadron;max b-disc subjet #eta;max b-disc subjet pT [GeV]");
	hhh7_numer->Draw("COLZ");
	c2->SaveAs(Form("plots/btagEff_%s_b%s_%s_h2_rate_cHad_Jet0_SubjetMaxB_Eta_Pt_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c2->SaveAs(Form("plots/btagEff_%s_b%s_%s_h2_rate_cHad_Jet0_SubjetMaxB_Eta_Pt_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));

	hhh8_numer->SetTitle("b-tag rate - b hadron;max b-disc subjet #eta;max b-disc subjet pT [GeV]");
	hhh8_numer->Draw("COLZ");
	c2->SaveAs(Form("plots/btagEff_%s_b%s_%s_h2_rate_bHad_Jet0_SubjetMaxB_Eta_Pt_hadron.pdf", sample.c_str(), bWP.c_str(), saveLabel.c_str()));
	c2->SaveAs(Form("plots/btagEff_%s_b%s_%s_h2_rate_bHad_Jet0_SubjetMaxB_Eta_Pt_hadron.png", sample.c_str(), bWP.c_str(), saveLabel.c_str()));


 	//----------------------------------------------------------------------------------------------------------------------------



    OutFile->cd();

	aaa1_numer ->Write();
	aaa2_numer ->Write();
	aaa3_numer ->Write();
	aaa4_numer ->Write();
	aaa5_numer ->Write();
	aaa6_numer ->Write();
	aaa7_numer ->Write();
	aaa8_numer ->Write();

	bbb1_numer ->Write();
	bbb2_numer ->Write();
	bbb3_numer ->Write();
	bbb4_numer ->Write();
	bbb5_numer ->Write();
	bbb6_numer ->Write();
	bbb7_numer ->Write();
	bbb8_numer ->Write();


	ccc1_numer ->Write();
	ccc2_numer ->Write();
	ccc3_numer ->Write();
	ccc4_numer ->Write();
	ccc5_numer ->Write();
	ccc6_numer ->Write();
	ccc7_numer ->Write();
	ccc8_numer ->Write();


	// eee1_numer ->Write();
	// eee2_numer ->Write();
	// eee3_numer ->Write();
	// eee4_numer ->Write();
	// eee5_numer ->Write();
	eee6_numer ->Write();
	eee7_numer ->Write();
	eee8_numer ->Write();

	// fff1_numer ->Write();
	// fff2_numer ->Write();
	// fff3_numer ->Write();
	// fff4_numer ->Write();
	// fff5_numer ->Write();
	fff6_numer ->Write();
	fff7_numer ->Write();
	fff8_numer ->Write();

	// ggg1_numer ->Write();
	// ggg2_numer ->Write();
	// ggg3_numer ->Write();
	// ggg4_numer ->Write();
	// ggg5_numer ->Write();
	ggg6_numer ->Write();
	ggg7_numer ->Write();
	ggg8_numer ->Write();

	hhh6_numer ->Write();
	hhh7_numer ->Write();
	hhh8_numer ->Write();

    OutFile->cd();
    // OutFile->Write();
    OutFile->Close();









// histnames.push_back("h_BeforeBtag_Inclusive_Jet0Pt"                    );
//     histnames.push_back("h_BeforeBtag_Inclusive_Jet0P"                     );
//     histnames.push_back("h_BeforeBtag_Inclusive_Jet0Rap"                   );
//     histnames.push_back("h_BeforeBtag_light_Jet0Pt"                        );
//     histnames.push_back("h_BeforeBtag_light_Jet0P"                         );
//     histnames.push_back("h_BeforeBtag_light_Jet0Rap"                       );
//     histnames.push_back("h_BeforeBtag_c_Jet0Pt"                            );
//     histnames.push_back("h_BeforeBtag_c_Jet0P"                             );
//     histnames.push_back("h_BeforeBtag_c_Jet0Rap"                           );
//     histnames.push_back("h_BeforeBtag_b_Jet0Pt"                            );
//     histnames.push_back("h_BeforeBtag_b_Jet0P"                             );
//     histnames.push_back("h_BeforeBtag_b_Jet0Rap"                           );
//     histnames.push_back("h_BeforeBtag_g_Jet0Pt"                            );
//     histnames.push_back("h_BeforeBtag_g_Jet0P"                             );
//     histnames.push_back("h_BeforeBtag_g_Jet0Rap"                           );      
//     histnames.push_back("h_BeforeBtag_lightHad_Jet0Pt"                     );      
//     histnames.push_back("h_BeforeBtag_lightHad_Jet0P"                      );      
//     histnames.push_back("h_BeforeBtag_lightHad_Jet0Rap"                    );      
//     histnames.push_back("h_BeforeBtag_cHad_Jet0Pt"                         );      
//     histnames.push_back("h_BeforeBtag_cHad_Jet0P"                          );      
//     histnames.push_back("h_BeforeBtag_cHad_Jet0Rap"                        );      
//     histnames.push_back("h_BeforeBtag_bHad_Jet0Pt"                         );      
//     histnames.push_back("h_BeforeBtag_bHad_Jet0P"                          );      
//     histnames.push_back("h_BeforeBtag_bHad_Jet0Rap"                        );      
//     histnames.push_back("h_AfterBtag_Inclusive_Jet0Pt"                     );     
//     histnames.push_back("h_AfterBtag_Inclusive_Jet0P"                      );     
//     histnames.push_back("h_AfterBtag_Inclusive_Jet0Rap"                    );     
//     histnames.push_back("h_AfterBtag_light_Jet0Pt"                         );     
//     histnames.push_back("h_AfterBtag_light_Jet0P"                          );     
//     histnames.push_back("h_AfterBtag_light_Jet0Rap"                        );     
//     histnames.push_back("h_AfterBtag_c_Jet0Pt"                             );     
//     histnames.push_back("h_AfterBtag_c_Jet0P"                              );     
//     histnames.push_back("h_AfterBtag_c_Jet0Rap"                            );     
//     histnames.push_back("h_AfterBtag_b_Jet0Pt"                             );     
//     histnames.push_back("h_AfterBtag_b_Jet0P"                              );     
//     histnames.push_back("h_AfterBtag_b_Jet0Rap"                            );     
//     histnames.push_back("h_AfterBtag_g_Jet0Pt"                             );     
//     histnames.push_back("h_AfterBtag_g_Jet0P"                              );     
//     histnames.push_back("h_AfterBtag_g_Jet0Rap"                            );     
//     histnames.push_back("h_AfterBtag_lightHad_Jet0Pt"                      );      
//     histnames.push_back("h_AfterBtag_lightHad_Jet0P"                       );      
//     histnames.push_back("h_AfterBtag_lightHad_Jet0Rap"                     );      
//     histnames.push_back("h_AfterBtag_cHad_Jet0Pt"                          );      
//     histnames.push_back("h_AfterBtag_cHad_Jet0P"                           );      
//     histnames.push_back("h_AfterBtag_cHad_Jet0Rap"                         );      
//     histnames.push_back("h_AfterBtag_bHad_Jet0Pt"                          );      
//     histnames.push_back("h_AfterBtag_bHad_Jet0P"                           );      
//     histnames.push_back("h_AfterBtag_bHad_Jet0Rap"                         );      
//     histnames.push_back("h_check_Jet1SDmaxbdisc"                           );      
//     histnames.push_back("h_check_Jet1SDmaxbdiscflavParton"                 );
//     histnames.push_back("h_check_Jet1SDsubjet0bdisc"                       );
//     histnames.push_back("h_check_Jet1SDsubjet0flavParton"                  );
//     histnames.push_back("h_check_Jet1SDsubjet1bdisc"                       );
//     histnames.push_back("h_check_Jet1SDsubjet1flavParton"                  );
//     histnames.push_back("h_check_Jet1PuppiSDmaxbdisc"                      );
//     histnames.push_back("h_check_Jet1PuppiSDmaxbdiscflavParton"            );
//     histnames.push_back("h_check_Jet1PuppiSDsubjet0bdisc"                  );
//     histnames.push_back("h_check_Jet1PuppiSDsubjet0flavParton"             );
//     histnames.push_back("h_check_Jet1PuppiSDsubjet1bdisc"                  );
//     histnames.push_back("h_check_Jet1PuppiSDsubjet1flavParton"             );
//     histnames.push_back("h_check_Jet1GenMatched_partonPt"                  );
//     histnames.push_back("h_check_Jet1GenMatched_partonID"                  );
//     histnames.push_back("h_BeforeBtag_Inclusive_Jet1Pt"                    );
//     histnames.push_back("h_BeforeBtag_Inclusive_Jet1P"                     );
//     histnames.push_back("h_BeforeBtag_Inclusive_Jet1Rap"                   );
//     histnames.push_back("h_BeforeBtag_light_Jet1Pt"                        );
//     histnames.push_back("h_BeforeBtag_light_Jet1P"                         );
//     histnames.push_back("h_BeforeBtag_light_Jet1Rap"                       );
//     histnames.push_back("h_BeforeBtag_c_Jet1Pt"                            );
//     histnames.push_back("h_BeforeBtag_c_Jet1P"                             );
//     histnames.push_back("h_BeforeBtag_c_Jet1Rap"                           );
//     histnames.push_back("h_BeforeBtag_b_Jet1Pt"                            );
//     histnames.push_back("h_BeforeBtag_b_Jet1P"                             );
//     histnames.push_back("h_BeforeBtag_b_Jet1Rap"                           );
//     histnames.push_back("h_BeforeBtag_g_Jet1Pt"                            );             
//     histnames.push_back("h_BeforeBtag_g_Jet1P"                             );       
//     histnames.push_back("h_BeforeBtag_g_Jet1Rap"                           );       
//     histnames.push_back("h_BeforeBtag_lightHad_Jet1Pt"                     );       
//     histnames.push_back("h_BeforeBtag_lightHad_Jet1P"                      );       
//     histnames.push_back("h_BeforeBtag_lightHad_Jet1Rap"                    );       
//     histnames.push_back("h_BeforeBtag_cHad_Jet1Pt"                         );       
//     histnames.push_back("h_BeforeBtag_cHad_Jet1P"                          );       
//     histnames.push_back("h_BeforeBtag_cHad_Jet1Rap"                        );       
//     histnames.push_back("h_BeforeBtag_bHad_Jet1Pt"                         );       
//     histnames.push_back("h_BeforeBtag_bHad_Jet1P"                          );       
//     histnames.push_back("h_BeforeBtag_bHad_Jet1Rap"                        );       
//     histnames.push_back("h_AfterBtag_Inclusive_Jet1Pt"                     );      
//     histnames.push_back("h_AfterBtag_Inclusive_Jet1P"                      );      
//     histnames.push_back("h_AfterBtag_Inclusive_Jet1Rap"                    );      
//     histnames.push_back("h_AfterBtag_light_Jet1Pt"                         );      
//     histnames.push_back("h_AfterBtag_light_Jet1P"                          );      
//     histnames.push_back("h_AfterBtag_light_Jet1Rap"                        );      
//     histnames.push_back("h_AfterBtag_c_Jet1Pt"                             );      
//     histnames.push_back("h_AfterBtag_c_Jet1P"                              );      
//     histnames.push_back("h_AfterBtag_c_Jet1Rap"                            );      
//     histnames.push_back("h_AfterBtag_b_Jet1Pt"                             );      
//     histnames.push_back("h_AfterBtag_b_Jet1P"                              );      
//     histnames.push_back("h_AfterBtag_b_Jet1Rap"                            );      
//     histnames.push_back("h_AfterBtag_g_Jet1Pt"                             );      
//     histnames.push_back("h_AfterBtag_g_Jet1P"                              );      
//     histnames.push_back("h_AfterBtag_g_Jet1Rap"                            );      
//     histnames.push_back("h_AfterBtag_lightHad_Jet1Pt"                      );       
//     histnames.push_back("h_AfterBtag_lightHad_Jet1P"                       );       
//     histnames.push_back("h_AfterBtag_lightHad_Jet1Rap"                     );       
//     histnames.push_back("h_AfterBtag_cHad_Jet1Pt"                          );       
//     histnames.push_back("h_AfterBtag_cHad_Jet1P"                           );       
//     histnames.push_back("h_AfterBtag_cHad_Jet1Rap"                         );       
//     histnames.push_back("h_AfterBtag_bHad_Jet1Pt"                          );       
//     histnames.push_back("h_AfterBtag_bHad_Jet1P"                           );       
//     histnames.push_back("h_AfterBtag_bHad_Jet1Rap"                         );  

//     histnames.push_back("h_BeforeBtag_lightHad_Jet0_DeltaRsubjets"         );   
//     histnames.push_back("h_BeforeBtag_lightHad_Jet0_SubjetMaxB_Eta"        );   
//     histnames.push_back("h_BeforeBtag_lightHad_Jet0_SubjetMaxB_Pt"         );   
//     // histnames.push_back("h_BeforeBtag_lightHad_Jet0_SubjetMaxB_Eta_Pt"     );   
//     histnames.push_back("h_BeforeBtag_cHad_Jet0_DeltaRsubjets"             );   
//     histnames.push_back("h_BeforeBtag_cHad_Jet0_SubjetMaxB_Eta"            );   
//     histnames.push_back("h_BeforeBtag_cHad_Jet0_SubjetMaxB_Pt"             );   
//     // histnames.push_back("h_BeforeBtag_cHad_Jet0_SubjetMaxB_Eta_Pt"         );   
//     histnames.push_back("h_BeforeBtag_bHad_Jet0_DeltaRsubjets"             );   
//     histnames.push_back("h_BeforeBtag_bHad_Jet0_SubjetMaxB_Eta"            );   
//     histnames.push_back("h_BeforeBtag_bHad_Jet0_SubjetMaxB_Pt"             );   
//     // histnames.push_back("h_BeforeBtag_bHad_Jet0_SubjetMaxB_Eta_Pt"         );   
//     histnames.push_back("h_AfterBtag_lightHad_Jet0_DeltaRsubjets"          );   
//     histnames.push_back("h_AfterBtag_lightHad_Jet0_SubjetMaxB_Eta"         );   
//     histnames.push_back("h_AfterBtag_lightHad_Jet0_SubjetMaxB_Pt"          );   
//     // histnames.push_back("h_AfterBtag_lightHad_Jet0_SubjetMaxB_Eta_Pt"      );   
//     histnames.push_back("h_AfterBtag_cHad_Jet0_DeltaRsubjets"              );   
//     histnames.push_back("h_AfterBtag_cHad_Jet0_SubjetMaxB_Eta"             );   
//     histnames.push_back("h_AfterBtag_cHad_Jet0_SubjetMaxB_Pt"              );   
//     // histnames.push_back("h_AfterBtag_cHad_Jet0_SubjetMaxB_Eta_Pt"          );   
//     histnames.push_back("h_AfterBtag_bHad_Jet0_DeltaRsubjets"              );   
//     histnames.push_back("h_AfterBtag_bHad_Jet0_SubjetMaxB_Eta"             );   
//     histnames.push_back("h_AfterBtag_bHad_Jet0_SubjetMaxB_Pt"              );   
//     // histnames.push_back("h_AfterBtag_bHad_Jet0_SubjetMaxB_Eta_Pt"          );   
//     histnames.push_back("h_BeforeBtag_lightHad_Jet1_DeltaRsubjets"         );   
//     histnames.push_back("h_BeforeBtag_lightHad_Jet1_SubjetMaxB_Eta"        );   
//     histnames.push_back("h_BeforeBtag_lightHad_Jet1_SubjetMaxB_Pt"         );   
//     // histnames.push_back("h_BeforeBtag_lightHad_Jet1_SubjetMaxB_Eta_Pt"     );   
//     histnames.push_back("h_BeforeBtag_cHad_Jet1_DeltaRsubjets"             );   
//     histnames.push_back("h_BeforeBtag_cHad_Jet1_SubjetMaxB_Eta"            );   
//     histnames.push_back("h_BeforeBtag_cHad_Jet1_SubjetMaxB_Pt"             );   
//     // histnames.push_back("h_BeforeBtag_cHad_Jet1_SubjetMaxB_Eta_Pt"         );   
//     histnames.push_back("h_BeforeBtag_bHad_Jet1_DeltaRsubjets"             );   
//     histnames.push_back("h_BeforeBtag_bHad_Jet1_SubjetMaxB_Eta"            );   
//     histnames.push_back("h_BeforeBtag_bHad_Jet1_SubjetMaxB_Pt"             );   
//     // histnames.push_back("h_BeforeBtag_bHad_Jet1_SubjetMaxB_Eta_Pt"         );   
//     histnames.push_back("h_AfterBtag_lightHad_Jet1_DeltaRsubjets"          );   
//     histnames.push_back("h_AfterBtag_lightHad_Jet1_SubjetMaxB_Eta"         );   
//     histnames.push_back("h_AfterBtag_lightHad_Jet1_SubjetMaxB_Pt"          );   
//     // histnames.push_back("h_AfterBtag_lightHad_Jet1_SubjetMaxB_Eta_Pt"      );   
//     histnames.push_back("h_AfterBtag_cHad_Jet1_DeltaRsubjets"              );   
//     histnames.push_back("h_AfterBtag_cHad_Jet1_SubjetMaxB_Eta"             );   
//     histnames.push_back("h_AfterBtag_cHad_Jet1_SubjetMaxB_Pt"              );   
//     // histnames.push_back("h_AfterBtag_cHad_Jet1_SubjetMaxB_Eta_Pt"          );   
//     histnames.push_back("h_AfterBtag_bHad_Jet1_DeltaRsubjets"              );   
//     histnames.push_back("h_AfterBtag_bHad_Jet1_SubjetMaxB_Eta"             );   
//     histnames.push_back("h_AfterBtag_bHad_Jet1_SubjetMaxB_Pt"              );   
//     // histnames.push_back("h_AfterBtag_bHad_Jet1_SubjetMaxB_Eta_Pt"          );   









    // h_numer->SetTitle(";Jet PT (GeV/c);B-tag Rate");
    // h_numer->Draw();
    // h_numer->SetName(savename.c_str());
    // h_numer->Write();
}
